# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞:**
–í –æ—Ç—á—ë—Ç–∞—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–∏—Å–∫–ª—é—á–∞–ª–∏—Å—å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h < 0.4), –Ω–æ –≤ —Ç–∞–±–ª–∏—Ü–µ "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞" –æ–Ω–∏ –≤—Å—ë –µ—â—ë –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `test_filtered` –≤–º–µ—Å—Ç–æ `display_data`.

## üîß **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **1. –ò–∑–º–µ–Ω—ë–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã:**
```python
# –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è test_filtered):
available_display_cols = [col for col in display_cols if col in test_filtered.columns]
st.dataframe(test_filtered[available_display_cols], use_container_width=True)

# –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è display_data):
available_display_cols = [col for col in display_cols if col in display_data.columns]
st.dataframe(display_data[available_display_cols], use_container_width=True)
```

## üìä **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

### **1. display_data —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:**
```python
# –í display_data —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ h >= 0.4:
if 'h' in st.session_state.aggregated_data.columns:
    filtered_data = st.session_state.aggregated_data[st.session_state.aggregated_data['h'] >= 0.4]
    display_data = filtered_data
```

### **2. test_filtered –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ h:**
- `test_filtered` - —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø–æ TEST (–Ω–µ–ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- `display_data` - —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ h >= 0.4 –∏ –¥—Ä—É–≥–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

### **3. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –æ—Ç—á—ë—Ç–∞–º–∏:**
- ‚úÖ **–¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤
- ‚úÖ **–ù–µ—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π** –º–µ–∂–¥—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –æ—Ç—á—ë—Ç–∞–º–∏
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç** —Ç–æ—á–Ω–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –æ—Ç—á—ë—Ç—ã

## ‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### **1. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ **–¢–∞–±–ª–∏—Ü–∞ –∏ –æ—Ç—á—ë—Ç—ã** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ù–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ, —á—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

### **2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
- ‚úÖ **–ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h < 0.4** –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ **–ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h < 0.4** –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –æ—Ç—á—ë—Ç–æ–≤
- ‚úÖ **–ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞** —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤–µ–∑–¥–µ

### **3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç—á—ë—Ç–∞–º
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–õ–æ–≥–∏—á–Ω–æ—Å—Ç—å** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ:**

1. **–¢–∞–±–ª–∏—Ü–∞ "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `display_data` (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ h >= 0.4)
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `display_data` (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ h >= 0.4)
3. **–û—Ç—á—ë—Ç—ã** - —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h >= 0.4
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º

### **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Üí `st.session_state.aggregated_data`
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ h >= 0.4** ‚Üí `display_data`
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã** ‚Üí `display_data` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ)
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤** ‚Üí `display_data` (—Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ)
5. **–û—Ç—á—ë—Ç—ã** ‚Üí —Ç–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h >= 0.4

## ‚úÖ **–ò—Ç–æ–≥:**

–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å h < 0.4 –≤ —Ç–∞–±–ª–∏—Ü–µ "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å:

- ‚úÖ **–¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Ç–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å h >= 0.4
- ‚úÖ **–û—Ç—á—ë—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å h >= 0.4
- ‚úÖ **–ù–µ—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –æ—Ç—á—ë—Ç–∞–º–∏
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!**
