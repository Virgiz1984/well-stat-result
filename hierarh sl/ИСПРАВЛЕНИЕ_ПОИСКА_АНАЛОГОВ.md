# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞:**
–ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª **–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É** (—Ç–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å `coll_column = 1`), –∞ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É** (–≤—Å–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã).

## üîß **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **1. –ò–∑–º–µ–Ω—ë–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤:**
```python
# –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
X, labels = compute_features(all_collectors, id_col, sel_num, sel_cat, standardize)

# –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
X, labels = compute_features(df, id_col, sel_num, sel_cat, standardize)
```

### **2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
```python
# –ë–´–õ–û (–ø–æ–∫–∞–∑—ã–≤–∞–ª–æ —Ç–æ–ª—å–∫–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):
total_collectors = len(all_collectors)
collectors_with_test = len(all_collectors[~all_collectors['TEST'].isna()...])

# –°–¢–ê–õ–û (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É):
total_collectors = len(df)
collectors_with_test = len(df[~df['TEST'].isna()...])
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç—á—ë—Ç:**
```python
# –ë–´–õ–û (–ø–µ—Ä–µ–¥–∞–≤–∞–ª–∞—Å—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞):
report_html = generate_single_collector_report(
    row, target_label, neighbor_labels, neighbor_dists, 
    all_collectors, sel_num, sel_cat, standardize, metric, linkage_method, coll_column,
    total_collectors, collectors_with_test, collectors_without_test
)

# –°–¢–ê–õ–û (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞):
report_html = generate_single_collector_report(
    row, target_label, neighbor_labels, neighbor_dists, 
    df, sel_num, sel_cat, standardize, metric, linkage_method, coll_column,
    total_collectors, collectors_with_test, collectors_without_test
)
```

## üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

1. **–¶–µ–ª–µ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã** - —Ç–æ–ª—å–∫–æ —Å `coll_column = 1` –∏ –Ω–µ–ø—É—Å—Ç—ã–º TEST
2. **–ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤** - —Å—Ä–µ–¥–∏ **–í–°–ï–• –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤** –≤ —Ç–∞–±–ª–∏—Ü–µ (–≤–∫–ª—é—á–∞—è —Å `coll_column != 1`)
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –í–°–ï 10 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤ (–≤–∫–ª—é—á–∞—è —Å –ø—É—Å—Ç—ã–º–∏ TEST)

### **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–∫–∞–∂–µ—Ç:**

- **–í—Å–µ–≥–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- **–° –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º–∏** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å –Ω–µ–ø—É—Å—Ç—ã–º TEST –≤ –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- **–ë–µ–∑ –∏—Å–ø—ã—Ç–∞–Ω–∏–π** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å –ø—É—Å—Ç—ã–º TEST –≤ –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ

## üéØ **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

### **–¢–µ–ø–µ—Ä—å –≤ –æ—Ç—á—ë—Ç–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:**

1. **–ê–Ω–∞–ª–æ–≥–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤** (–Ω–µ —Ç–æ–ª—å–∫–æ —Å `coll_column = 1`)
2. **–ê–Ω–∞–ª–æ–≥–∏ —Å –ø—É—Å—Ç—ã–º–∏ TEST** (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ—Ö–æ–∂–∏)
3. **–ë–æ–ª—å—à–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è** –≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–∞—Ö
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞–º

## ‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. **–ë–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤
2. **–õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ** –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞** –ø–æ–∏—Å–∫–∞
4. **–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ –¥–∞–Ω–Ω—ã–º

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö!
